section .data	
	NOMBRE    DD  -111.111	
	REGISTRO  DQ  +111.111	
	AB     DD  00403010H	
	AA     DD  011223344H 	
	Z    DB  -127	
	A     DW  -32768	
	BB     DW  -0000_0001b	
section .bss	
	DINICIO1  RESD 1	
	DFIN1     RESD 1	
	CONTADOR RESB 1	
section .text 	
	global main 	
main:	
	MOV EAX,NOMBRE	
	MOV DWORD [DINICIO1],EAX	
	MOV EBX,REGISTRO	
	MOV DWORD [DFIN1],EBX	
	MOV EAX,[A]	
	NEG EAX	
	INC EAX	
	JO SALTO3	
	JZ SALTO2	
	JS SALTO1 	
	JNO limpiar	
	INICIO:	
	    JZ  SALTO2
	JNS  SALTO4
	JS  SALTO3
	jmp SALTO1
	SALTO3:	
	MOV AL,[Z]
	NOT AL
	SALTO2:
	MOV BL,[Z]
	MOV EDX,[A]
	NEG BL
	NOT EDX
	ADD EDX,[BB]
	SALTO1:
	JO SALTO4
	JZ BUCLE11
	JS BUCLE12
	JNO BUCLE11	
	SALTO4:
	BUCLE0: 
	 JS FIN
	 MOV DX,[A]
	DEC DX
	JZ BUCLE11
	JO FIN2
	JS INICIO
	JNZ BUCLE0
	JMP limpiar
	BUCLE11:
	SUB AL,R9B
	MOV CH,[BB]
	BUCLE: 
	ADD EAX,[AA]
	DEC DL
	NOT CL
	DEC CH
	JNS BUCLE
	JZ SALTO4
	JS FIN2
	JMP BUCLE0
	BUCLE12:
	MOV CL,[CONTADOR]
	BUCLE2:
	            MOV R9,RAX
	            DEC CL     
	JNZ BUCLE2
	CMP AL,R9B
	JO BUCLE0
	JS BUCLE12
	JNZ INICIO
	JZ BUCLE11
	ADD DL,[BB]	
	DEC DL	
	FIN:  	
	cmp CH,CL	
	JS SALTO2	
	JZ SALTO1	
	JNZ FIN2	
	APILAR:	
	METER: 	
	MOV ECX,[DINICIO1]
	ADD CL,DL
	MOV ECX,[ECX]
	MOV R9,RCX
	INC DL
	CMP [CONTADOR],DL
	JNZ METER
	JS INICIO
	JO SALTO4
	JNS SEGUIR
	limpiar:	
	MOV RBX,[DFIN1]	
	SUB BL,0000_1111B	
	MOV BYTE [CONTADOR],BL	
	ADD AX,[BB]	
	JNO limpiar	
	JZ FIN2	
	JO blanco	
	llenar:  	
	MOV AL,[REGISTRO+2]	
	MOV CL,[REGISTRO+2]	
	MOV CX,[A]	
	CMP CX,[BB]	
	JZ METER	
	JO SEGUIR	
	JS BUCLE12	
	JNS APILAR	
	SEGUIR:	
	MOV EBX,[AB]	
	ADD EBX,REGISTRO	
	SUB EBX,[AB]	
	MOV CL,[EBX+01H]	
	MOV AX,"ZY" ; ZY  SON LETRAS MAYUSCULA	
	CMP AH,AL	
	JO SALTO1	
	JZ SALTO3	
	JNS BUCLE0	
	JS FIN3	
	JMP INICIO 	
	FIN2:	
	MOV EAX,[DFIN1]	
	MOV ECX,[NOMBRE+9]	
	JZ SALTO3	
	JS SEGUIR	
	JNO INICIO 	
	JO FIN3	
	blanco:	
	XOR rax,rax	
	SUB rbx,rbx	
	XOR rcx,rcx	
	SUB rdx,rdx	
	XOR R8,R8	
	XOR R9,R9	
	XOR R10,R10	
	XOR R11,R11	
	XOR R12,R12	
	XOR R13,R13	
	XOR R14,R14	
	SUB R15,R15	
	jnz limpiar	
	JZ llenar	
	js APILAR	
	FIN3:	
	MOV R11,"inf221sm"	
	MOV R12,[REGISTRO-0B0000_0011]	
	MOV R10D,R11D	
	MOV R13W,R11W	
	JO APILAR	
	JZ llenar	
	JNS limpiar	
	MOV RAX,"87654321"	
	MOV RBX,"yxawusth"	
	MOV RCX,"10101010"	
	MOV RDX,"11111111"	
	NOT RAX	
	NOT RBX	
	NOT RCX	
	NOT RDX	
RET	
